- DONE #Soologic Mandar un ejemplo de topología en [[GRASS]]
  id:: 63524b9b-4f8f-4bc6-9bb8-0111e47276d3
  collapsed:: true
  :LOGBOOK:
  CLOCK: [2022-10-21 Fri 09:50:10]--[2022-10-21 Fri 11:03:14] =>  01:13:04
  CLOCK: [2022-10-21 Fri 11:27:15]--[2022-10-21 Fri 13:51:39] =>  02:24:24
  CLOCK: [2022-10-26 Wed 12:37:36]--[2022-10-26 Wed 13:31:30] =>  00:53:54
  CLOCK: [2022-10-26 Wed 18:09:40]--[2022-10-26 Wed 19:27:09] =>  01:17:29
  CLOCK: [2022-10-27 Thu 09:34:50]--[2022-10-27 Thu 09:47:00] =>  00:12:51
  CLOCK: [2022-10-27 Thu 10:00:37]--[2022-10-27 Thu 11:05:33] =>  01:04:56
  CLOCK: [2022-10-27 Thu 11:06:10]--[2022-10-27 Thu 11:53:14] =>  00:47:04
  CLOCK: [2022-10-27 Thu 12:29:13]--[2022-10-27 Thu 13:09:33] =>  00:40:20
  CLOCK: [2022-10-27 Thu 13:30:01]--[2022-10-27 Thu 13:34:12] =>  00:12:11
  CLOCK: [2022-10-27 Thu 16:10:57]--[2022-10-27 Thu 16:21:39] =>  00:10:42
  CLOCK: [2022-10-27 Thu 16:47:31]--[2022-10-27 Thu 16:54:53] =>  00:07:22
  CLOCK: [2022-10-27 Thu 17:07:50]--[2022-10-27 Thu 17:12:31] =>  00:04:46
  CLOCK: [2022-10-27 Thu 17:46:24]--[2022-10-27 Thu 18:24:58] =>  00:38:34
  CLOCK: [2022-10-28 Fri 09:04:04]--[2022-10-28 Fri 09:04:51] =>  00:00:47
  CLOCK: [2022-10-28 Fri 09:27:48]--[2022-10-28 Fri 09:31:32] =>  00:03:44
  CLOCK: [2022-10-28 Fri 09:45:34]--[2022-10-28 Fri 09:47:26] =>  00:01:52
  CLOCK: [2022-10-31 Mon 13:09:57]--[2022-10-31 Mon 13:18:32] =>  00:08:35
  CLOCK: [2022-10-31 Mon 13:40:38]--[2022-10-31 Mon 13:42:11] =>  00:01:33
  CLOCK: [2022-10-31 Mon 13:58:12]--[2022-10-31 Mon 14:04:42] =>  00:06:30
  CLOCK: [2022-10-31 Mon 16:03:50]--[2022-10-31 Mon 16:06:37] =>  00:02:47
  CLOCK: [2022-10-31 Mon 16:47:17]--[2022-10-31 Mon 17:09:49] =>  00:22:32
  CLOCK: [2022-10-31 Mon 18:00:57]--[2022-10-31 Mon 18:17:06] =>  00:16:09
  CLOCK: [2022-11-04 Fri 14:09:10]--[2022-11-04 Fri 14:43:27] =>  00:34:17
  CLOCK: [2022-11-08 Tue 09:18:15]--[2022-11-08 Tue 09:45:22] =>  00:27:07
  :END:
  - Continuar, lo tenemos en **D/10-Desktop/ejemplo_topologia_grass**. Un asco.
  - Probar el clockwise, ver test.sql
  - No es un problema de clockwise ni counterclockwise, simplemente [[GEOS]] no lo hace en el contexto del polígono por alguna razón. Se ha analizado el segmento común y es perfectamente coincidente, aunque en reverso. Se ha probado el intersection a nivel de polígono y no funciona, se ha probado a nivel de segmento con dos segmentos separados y va bien. También se ha probado a nivel de reconstruir los polígonos simplificados y el intersection va bien tanto CW como CCW. Los polígonos originales tienen el ST_VALID correcto. Por lo tanto, el problema debe estar en GEOS con los polígonos originales, vaya usted a saber qué está pasando. [[GRASS]] no ha mejorado nada, ni con un clean ni con una simple lectura / escritura. Se ha utilizado **holistic_hornet** con las siguientes versiones: PG 13.5, GEOS 3.9.1, PROJ 7.2.1, proj-data 1.7, GDAL 3.2.3, PostGIS 3.1.1.
  - Probar con una nueva versión del stack, generar una nueva versión de [[docker/postgis]]
  - Compilado en el contenedor de prueba de compilación hasta el PROJ, seguir con el proceso
  - Compilado GDAL
  - Compilando PostGIS
  - Se supone que ya tenemos la nueva imagen y que ha sido publicada, así que probar de nuevo el ejemplo de topología a ver qué tal
  - Revisar la documentación README.md de la nueva tag de la imagen PostGIS
  - Nada, no se arregla. Hemos mandado un mail a [[postgis-devel@lists.osgeo.org]] a ver si se puede sacar algo de ahí.
  - Seguramente la hemos cagado y hay GEOMETRYCOLLECTIONS de por medio, y sí, las había
  - Contestar a la gente de la cuenta de PostGIS
  - Contestar a [[Soologic]] con esto
