filters:: {}

- DONE #[[Gestión general]]
  :LOGBOOK:
  CLOCK: [2022-11-07 Mon 09:00:00]--[2022-11-07 Mon 10:00:57] =>  01:00:57
  CLOCK: [2022-11-07 Mon 10:05:16]--[2022-11-07 Mon 10:06:03] =>  00:00:47
  CLOCK: [2022-11-07 Mon 10:23:36]--[2022-11-07 Mon 10:23:39] =>  00:00:03
  CLOCK: [2022-11-07 Mon 10:39:50]--[2022-11-07 Mon 10:55:28] =>  00:15:38
  CLOCK: [2022-11-07 Mon 11:03:56]--[2022-11-07 Mon 11:06:26] =>  00:20:30
  CLOCK: [2022-11-07 Mon 11:26:34]--[2022-11-07 Mon 11:29:09] =>  00:02:35
  CLOCK: [2022-11-07 Mon 11:51:17]--[2022-11-07 Mon 11:54:19] =>  00:03:02
  CLOCK: [2022-11-07 Mon 13:07:54]--[2022-11-07 Mon 13:09:47] =>  00:01:53
  CLOCK: [2022-11-07 Mon 13:11:18]--[2022-11-07 Mon 13:11:40] =>  00:00:22
  CLOCK: [2022-11-07 Mon 13:12:32]--[2022-11-07 Mon 13:12:48] =>  00:00:16
  CLOCK: [2022-11-07 Mon 13:23:27]--[2022-11-07 Mon 13:27:31] =>  00:04:04
  CLOCK: [2022-11-07 Mon 14:25:12]--[2022-11-07 Mon 14:41:03] =>  00:15:51
  CLOCK: [2022-11-07 Mon 16:47:12]--[2022-11-07 Mon 16:48:12] =>  00:01:00
  CLOCK: [2022-11-07 Mon 17:25:57]--[2022-11-07 Mon 17:35:59] =>  00:00:02
  CLOCK: [2022-11-07 Mon 17:36:22]--[2022-11-07 Mon 17:36:24] =>  00:00:02
  CLOCK: [2022-11-07 Mon 17:36:48]--[2022-11-07 Mon 17:37:07] =>  00:00:19
  CLOCK: [2022-11-07 Mon 20:06:46]--[2022-11-07 Mon 20:09:32] =>  00:02:46
  :END:
- #Work/Sunntics/SunnSaaS  #DropboxTags [[Dropbox/sunntics/scientific/2022-11-07-010-demodata_visualizador_ssparc]]
  id:: 6368cee1-a665-426b-86b6-6f38909882c6
  collapsed:: true
  - Es un set de datos de la gente del sensor de tránsito de nubes para hacer cosas en el visualizador SSPARC
- [#B] #Work/Sunntics/SunnSaaS Integrar los datos de ((6368cee1-a665-426b-86b6-6f38909882c6)) en el visor SSPARC
- DONE #Work/Sunntics #Reunión
  :LOGBOOK:
  CLOCK: [2022-11-07 Mon 10:32:54]--[2022-11-07 Mon 10:39:49] =>  00:06:55
  :END:
- DONE #Work/Freelancing/Cloudia Gmail
  :LOGBOOK:
  CLOCK: [2022-11-08 Tue 16:58:10]--[2022-11-08 Tue 17:03:59] =>  00:05:58
  :END:
- DONE #Work/Sunntics Gmail
  :LOGBOOK:
  CLOCK: [2022-11-08 Tue 08:31:03]--[2022-11-08 Tue 08:31:36] =>  00:00:33
  :END:
- DONE #Work/Toolsresearch Probando exa. Instalar el binario desde fuente. Meter en la boilerplate de setup de un Desktop Linux.
  :LOGBOOK:
  CLOCK: [2022-11-07 Mon 11:39:54]--[2022-11-07 Mon 11:50:58] =>  00:11:04
  :END:
- #Web/Linux exa, un reemplazo de ls [exa · a modern replacement for ls](https://the.exa.website/)
- #Work/Freelancing/US #GitRepo/freelancing_us/cell_db
  collapsed:: true
  - Este repo queda obsoleto en favor de #GitRepo/freelancing_us/cell_db_2022
  - Su material está siendo reciclado en este
- #Work/Freelancing/US Despliegue de la base de datos principal
  collapsed:: true
  - El stack principal se llama **cell_db** y contiene las dos bases de datos de trabajo
  - Su configuración y despliegue se controla desde el **mlkctxt** y el WP **wp-2022-10-06-010**
- #Work/Freelancing/US #Web/Visores/Propio https://www.nacional_2.gis-and-coast.org
  collapsed:: true
  - Este visor parece que está en buen estado, al menos Pepe no le encuentra ningún problema. Ver dónde está y mapear sus recursos y ver cómo se puede acceder a él. Se supone que la hija de Jesús se va a dedicar a gestionar este visor. Ver si se puede reproducir en local.
- #Work/Freelancing/US #Web/Visores/Propio https://www.excelencia.gis-and-coast.org
  collapsed:: true
  - A este visor le faltan capas, hay un GeoServer que no está funcionando. Hay que encontrarlo, creo que es en lo que estamos atascados con Pablo.
  - No funcionan las capas que están en [https://kerdoc01.cica.es/gs-inun/geoserver/inundacion/wms?](https://kerdoc01.cica.es/gs-inun/geoserver/inundacion/wms?SERVICE=WMS&REQUEST=GetMap&VERSION=1.1.1&LAYERS=probje_a&STYLES=&FORMAT=image%2Fpng&TRANSPARENT=true&HEIGHT=256&WIDTH=256&SRS=EPSG%3A3857&BBOX=-774765.7186985465,4463310.955628011,-774154.222472265,4463922.451854293)
- #Work/Freelancing/US #Web/Visores/Propio #Visor/Erosion https://kerdoc01.cica.es/erosionvisor
  collapsed:: true
  - Este visor es el de Jose y está muy jodido, no le funcionan las capas. Hay que hacerle una revisión completa, parece que ni siquiera pide capas.
- #Work/Freelancing/US #Web/Visores/Propio https://www.practicas_geo.gis-and-coast.org/
  collapsed:: true
  - Este es el último visor y es el más moderno, pero hay capas que no funcionan. No se tiene que tener en marcha.
- #Work/Freelancing/US Lifewatch
  collapsed:: true
  - Este proyecto necesita un visor sin plataforma, con Kepler, y hay que visualizar datos de rejilla.
- #Work/Freelancing/US Junta de Andalucía PAIDI
  collapsed:: true
  - Es sobre la costa de Andalucía.
  - Hay que entregar un juego multiescalar a 125 metros con diversas variables, hay que ver qué variables necesitamos. Hay que integrar las variables de población de Antonio, ver qué años hay que meter. Hay que meter la población turística de Pepe. Hay que meter datos de población potencial, hay que hacer un proceso que nos tiene que explicar Pepe.
- #Work/Freelancing/US #Web/Visores/Propio #CARTO Algunos tests con las distancias hechos por [[Pepe Ojeda]] en [[CARTO]]
  collapsed:: true
  - [ACCESIBILIDAD COSTA2:POB,VIVENDA,PISCINAS copy](https://universidad-sevilla.carto.com/u/univ-sevilla-admin/builder/622b7d6f-3e47-4ffb-a5c9-409038e830f0/embed)
  - [ACCESIBILIDAD COSTA:POB,VIVENDA,PISCINAS](https://universidad-sevilla.carto.com/u/univ-sevilla-admin/builder/1498615a-119c-4405-838f-ab38907bb641/embed)
  - [VISOR PISCINAS 2020 CATASTRO](https://universidad-sevilla.carto.com/u/univ-sevilla-admin/builder/16353e1f-e040-481e-851e-0de596088334/embed)
- #Work/Freelancing/US #GitRepo/freelancing_us/cell_db_2022/020-cell_db_infrastructure
  collapsed:: true
  - Contiene el desarrollo de despliegue de la infraestructura de la aplicación de la base de datos principal **[[cell_db]]**. Está preparada para ser desplegada tanto en local como en remotos.
  - Esto se usa para manejar la base de datos de trabajo [[cell_db]] de [[kepler]]. A esta base de datos después se le hace un backup de la base de datos [[cell]] para pasarla a producción de [[kerdes]].
  - En este WP existe un directorio llamado **cell_utility_sql** que contiene consultas SQL para interaccionar con la base de  datos [[cell]].
- [#C] #Work/Freelancing/US Implementar en SQL directamente en la base de datos las utility queries y algunas de las funciones hechas en TypeScript, como por ejemplo la función que devuelve las celdas hijas
- [#B] #Work/Freelancing/IoT Salamanca año que viene: dar una alternativa más técnica con PostGIS + Mapbox + Tableau, con algo de temática con más enjundia
- [#B] #Work/Freelancing/IoT Opciones: coger lo que tenemos de EOI. Desarrollar presentación con opciones de visualización: Carto, Power BI, JavaScript + HTML + Mapbox, buscar ejemplos y datos D3 y C3, ejemplo con residuos, simular el backend directamente en el frontend, poner un botón de simulación con ingesta de datos ficticios a intervalos
- [#B] #Work/Freelancing/IoT Use the Live Server extension for Visual Studio Code, it's incredibly useful
- [#B] #Work/Toolsresearch [[Logseq]] shortcuts
  collapsed:: true
  :LOGBOOK:
  CLOCK: [2022-11-08 Tue 08:32:59]--[2022-11-08 Tue 08:33:06] =>  00:00:07
  :END:
  - [Logseq Cheat Sheet by bgrolleman - Download free from Cheatography - Cheatography.com: Cheat Sheets For Every Occasion](https://cheatography.com/bgrolleman/cheat-sheets/logseq/)
- #Work/Freelancing/US #GitRepo/freelancing_us/cell_db_2022/050-etl-catastro_2020
  collapsed:: true
  - ETL del catastro de [[Jesús Rodríguez]] del año 2020
  - Los datos originales están en la base de datos común de [[kerdes]], en el esquema **dat_catastro_2020**
  - Como necesita hacer trabajo en [[kerdes]] de gran tamaño (por ejemplo, la extracción de la base de datos de catastro), hace su trabajo de rsync sobre **/opt/transito_jpperez**, que es donde hay sitio
  - Linaje de datos
    - 000_in
      - **catastro_dump_2020:** dumpeo del esquema de **dat_catastro_2020** de [[Jesús Rodríguez]]. Lo guardaremos en DVC en helios, pero es prescindible a largo plazo.
    - 900_out
      - **dat_catastro_2020:** el esquema de [[Jesús Rodríguez]]
        - Los datos están muy bien y [[Jesús Rodríguez]] nos ha ahorrado mucho trabajo. De este esquema las dos tablas clave son **building**, que tiene los building multipart con el número de **dwellings** en los campos **numberofdwellings**, **numberofdwellings_constru** y **numberofdwellings_ieca**, y **buildingsingle**, que es una descomposición de los multipart en single part y repartiendo las viviendas según posiblemente área (más o menos, no exactamente).
        - Esta tabla tiene el **esquema que consideramos genérico**: una tabla **buildingsingle** con un campo **estimatednumberofdwellings_constru** con la estimación de las viviendas en función del área que tiene esta parte con respecto al multipart original.
      - **dat_catastro_2020_process.buildingsingle:** los **buildingsingle** transformados a 3035, todos ellos, sin filtros adicionales.tr
  - Flujo de trabajo
    - **Backup de los datos de [[Jesús Rodríguez]]:** están en la base de datos [[data]] común de [[kerdes]] en un esquema llamado [[dat_catastro_2020]]. Para extraerlo se ha creado un script **110** diseñado para ejecutarse de forma local en [[kerdes]] con el contexto **kepler_localhost**. Activar contexto, ir al servidor (directorio de trabajo **/opt/transito_jpperez**) y ejecutar. Esto dejará un dump grande en el mismo directorio de trabajo que se trae a local con **120**, dejándose en **data/000_in**. Mover a  remoto [[[[kepler]]]] y dumpear en [[kepler]] con éxito con **130**. Da problemas pero parece que va bien, las tablas fundamentales están integras.
    - **010: ETL**
      - **ETE:** <1.5 min
      - Procesa la tabla **buildingsingle** para crear **dat_catastro_2020_process.buildingsingle** que es una vista materializada de **dat_catastro_2020.buildingsingle** transformando la geometría a 3035. Como es usual, se abandona la clave original **ogc_fid** renombrándola a **ogc_fid_original** y se crea una nueva **gid**. Se han filtrado las geometrías inválidas según **st_isvalid**, de las que sólo había una.